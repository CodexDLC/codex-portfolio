/* HERO: INITIALIZATION PHASE (Terminal + Pipeline) */

.init-layout-fixed {
    display: grid;
    grid-template-columns: 350px 1fr; /* Wider terminal on large screens */
    min-height: 500px;
    max-height: 800px;
    height: 70vh;
    gap: 0;
    padding: 0;
    align-items: stretch;

    background: var(--color-monolith);
    border: 1px solid rgba(255, 255, 255, 0.1);
    box-shadow: 0 20px 50px rgba(0,0,0,0.5);
    box-sizing: border-box;
    width: 100%;
    margin: 0 auto;
    border-radius: 8px;

    transition: all 0.8s ease-in;
}

/* Terminal Column (Uses _terminal.css inside) */
.terminal-col {
    background: rgba(0, 0, 0, 0.2);
    border-right: 1px solid rgba(255, 255, 255, 0.05);
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    padding: 20px;
    min-height: 350px;
}

/* Window Controls (Legacy, can be replaced by .terminal-dots) */
.window-controls {
    display: flex;
    gap: 8px;
    margin-bottom: 10px;
}

.win-btn {
    width: 12px;
    height: 12px;
    border-radius: 50%;
    transition: opacity 0.2s;
}
.win-btn:hover { opacity: 0.8; cursor: pointer; }
.win-btn.red { background: #FF5F56; }
.win-btn.yellow { background: #FFBD2E; }
.win-btn.green { background: #27C93F; }

/* Log Stream */
.log-stream {
    flex-grow: 1;
    display: flex;
    flex-direction: column;
    justify-content: flex-end;
}

.log-stream div {
    font-family: 'JetBrains Mono', monospace;
    font-size: 12px;
    margin-bottom: 8px;
    animation: blink 0.2s ease-in;
    color: rgba(255, 255, 255, 0.6);
}
.log-stream .text-gold { color: var(--py-gold); }

@keyframes blink { from { opacity: 0; transform: translateX(-10px); } to { opacity: 1; transform: translateX(0); } }

/* Pipeline Column */
.pipeline-col {
    display: flex;
    justify-content: center;
    align-items: center;
    overflow: hidden;
    min-height: 350px;
}

.pipeline-wrapper {
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    padding-bottom: 0;
}

.pipeline-wrapper svg {
    width: 100%;
    height: auto;
    max-height: 100%;
    filter: drop-shadow(0 0 20px rgba(48, 105, 152, 0.2));
}

/* SVG Styles */
.stroke-gold { stroke: var(--py-gold) !important; }
.fill-blue { fill: var(--py-blue) !important; stroke: none !important; filter: drop-shadow(0 0 8px var(--py-blue)); }
.shape-core { stroke: var(--py-gold); stroke-width: 3; filter: drop-shadow(0 0 10px var(--py-gold)); }
.shape-product { fill: var(--py-gold); filter: drop-shadow(0 0 15px var(--py-gold)); }
.shape-rect, .shape-circle, .shape-rhombus {
    fill: #1A1A24;
    stroke: rgba(255,255,255,0.2);
    stroke-width: 2;
}

/* Diagram Animations */
.diagram-path {
    fill: none;
    stroke: rgba(255, 255, 255, 0.1);
    stroke-width: 3;
    stroke-dasharray: 1000;
    stroke-dashoffset: 1000;
    animation: drawLine 2.5s ease-out forwards;
}
@keyframes drawLine { to { stroke-dashoffset: 0; } }

.diagram-node {
    opacity: 0;
    transform: translateY(10px);
    animation: fadeInNode 1s ease-out forwards;
}
@keyframes fadeInNode { to { opacity: 1; transform: translateY(0); } }

.diagram-node text {
    fill: var(--color-ivory);
    font-family: 'JetBrains Mono';
    font-size: 11px;
    text-anchor: middle;
}

/* Delays */
.delay-0 { animation-delay: 0.6s; }
.delay-1 { animation-delay: 1.4s; }
.delay-2 { animation-delay: 2.4s; }
.delay-3 { animation-delay: 3.4s; }
.delay-4 { animation-delay: 4.7s; }
.delay-5 { animation-delay: 6.2s; }
.delay-6 { animation-delay: 7.2s; }

/* --- MOBILE INIT SCREEN --- */
.mobile-init-screen { display: none; } /* Hidden on desktop */

/* Mobile Pipeline SVG */
.mp-node { opacity: 0; transition: opacity 0.5s ease; }
.mp-node.visible { opacity: 1; }
.mp-rect-main { fill: rgba(30, 30, 47, 0.8); stroke: var(--color-ghost); stroke-width: 2; }
.mp-rect-icon { fill: rgba(30, 30, 47, 0.9); stroke-width: 2; }
.mp-rect-icon.gold { stroke: var(--color-gold); }
.mp-rect-icon.blue { stroke: var(--color-blue); }
.mp-rect-icon.green { stroke: var(--color-green); }
.mp-diamond { fill: rgba(30, 30, 47, 0.9); stroke: var(--color-gold); stroke-width: 2; }
.mp-rect-product { fill: var(--color-gold); stroke: none; }
.mp-text-main { fill: var(--color-ivory); font-family: 'JetBrains Mono', monospace; font-size: 14px; font-weight: 700; text-anchor: middle; dominant-baseline: middle; }
.mp-text-icon { fill: var(--color-ivory); font-family: 'JetBrains Mono', monospace; font-size: 12px; font-weight: 700; text-anchor: middle; dominant-baseline: middle; }
.mp-node.mp-product .mp-text-main { fill: #151520; }
.mp-line { fill: none; stroke: var(--color-ghost); stroke-width: 2; stroke-dasharray: 200; stroke-dashoffset: 200; transition: stroke-dashoffset 0.8s ease; }
.mp-line.drawn { stroke-dashoffset: 0; }

/* Mobile Loading */
.mobile-init-loading { padding: 15px 0; text-align: center; }
.mobile-init-loading .loading-text { font-family: 'JetBrains Mono', monospace; font-size: 0.75rem; color: var(--color-gold); letter-spacing: 1px; }

/* --- RESPONSIVE --- */
@media (min-width: 1280px) and (max-width: 1440px) and (max-height: 850px) {
    .init-layout-fixed { grid-template-columns: 280px 1fr; }
    .terminal-col, .pipeline-col { min-height: 180px; padding: 10px; }
}

@media (min-width: 768px) and (max-width: 1023px) {
    .init-layout-fixed { grid-template-columns: 1fr; grid-template-rows: auto auto; height: auto; min-height: auto; }
    .terminal-col { width: 100%; height: 300px; border-right: none; border-bottom: 1px solid rgba(255, 255, 255, 0.05); }
    .pipeline-col { width: 100%; height: 350px; display: flex; }
}

@media (max-width: 767px) {
    .init-layout-fixed { display: none !important; } /* Hide desktop */

    .mobile-init-screen {
        display: flex !important;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        min-height: calc(100vh - 140px);
        padding: 15px;
        opacity: 1;
        transition: opacity 0.8s ease;
    }
    .mobile-init-screen.fade-out { opacity: 0; }
    .mobile-init-screen.hidden { display: none !important; }

    .mobile-pipeline-svg { width: 100%; max-width: 90%; height: auto; flex: 1; max-height: 50vh; }
}

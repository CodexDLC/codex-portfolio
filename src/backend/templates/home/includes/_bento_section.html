{% load static %}
{% load i18n %}

<!-- FIX: Added theme-blue for status colors -->
<section id="slide-bento" class="slide hidden-down theme-blue">
    <div class="slide-content-wrapper">

        <!-- FIX: Exact copy of Hero Modules Bar structure (minus tabs) -->
        <!-- FIX: Removed inline padding, handled by CSS -->
        <div class="hero-modules-bar home-mode-bar">

            <span class="modules-status status-ready">
                <span class="text-green">//</span> {% trans "SYSTEM_READY" %}<span class="dots"></span>
            </span>

            <div class="modules-line line-ready"></div>

        </div>

        <!-- FIX: Added home-mode class for wider layout without borders -->
        <div class="island-grid home-mode">

            {% for item in bento_items %}
                {% if item.is_project %}
                    <!-- PROJECT CARD -->
                    <a href="{% url 'portfolio:portfolio' %}?project={{ item.slug }}"
                       class="bento-card {{ item.layout_class }} {{ item.style_visual }}">

                        <div class="bento-header">
                            <span class="bento-type">{{ item.project_type }}</span>
                            <span class="bento-status active"></span>
                        </div>

                        <h3 class="bento-title">{{ item.title }}</h3>
                        <p class="bento-desc">{{ item.description|truncatechars:80 }}</p>

                        <div class="bento-tags">
                            {% for tag in item.tags %}
                                <span class="bento-tag" data-category="{{ tag.category }}">{{ tag.name }}</span>
                            {% endfor %}
                        </div>
                    </a>
                {% else %}
                    <!-- LINK CARD (View All) -->
                    <a href="{{ item.url }}" class="bento-card {{ item.layout_class }} {{ item.style_visual }} link-card">
                        <div class="bento-header">
                            <span class="bento-type">{{ item.project_type }}</span>
                            <span class="bento-status active"></span>
                        </div>
                        <h3 class="bento-title">{{ item.title }} -></h3>
                        <p class="bento-desc">{{ item.description }}</p>
                    </a>
                {% endif %}
            {% empty %}
                <div class="bento-card visual-theme-ghost size-xl">
                    <h3 class="bento-title">{% trans "System Offline" %}</h3>
                    <p class="bento-desc">{% trans "No projects loaded in the database." %}</p>
                </div>
            {% endfor %}

        </div>
    </div>
</section>

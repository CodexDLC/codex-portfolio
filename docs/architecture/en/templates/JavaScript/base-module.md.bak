# üéØ Base Module (Header & Logo Animation)

[‚¨ÖÔ∏è Back](../README.md) | [üè† Root](/docs/README.md)

Source: [src/prototype/js/base.js](../../../src/prototype/js/base.js)

## Overview

The **Base Module** handles:



- Logo typing animation on page load



- Mobile burger menu toggle



- Session storage for animation playback control



- Global event listeners

##

## Logo Animation (`typeSlogan()`)

### Sequence




1. **Page Load:** Display static logo `CodexDLC` with colored letters
   ```
   Codex[D(gold)][L(ivory)][C(blue)]
   ```




2. **After Delay:**



   - Desktop: 3 seconds



   - Mobile: 1.5 seconds




3. **Type Animation:** Slowly reveal `[ Developer's Life Cycle ]`
   ```
   [ Developer's Life Cycle ]
   ‚îî‚îÄ [ = ghost
   ‚îî‚îÄ Developer's = gold
   ‚îî‚îÄ Life = ivory
   ‚îî‚îÄ Cycle = blue
   ‚îî‚îÄ ] = ghost
   ```




4. **Typing Speed:**



   - Desktop: 50ms per character



   - Mobile: 30ms per character

### Implementation

```javascript
const LOGO_DELAY_DESKTOP = 3000;    // ms
const LOGO_DELAY_MOBILE = 1500;     // ms
const CHAR_SPEED_DESKTOP = 50;      // ms per char
const CHAR_SPEED_MOBILE = 30;       // ms per char

// i18n: slogan_developers
// i18n: slogan_life
// i18n: slogan_cycle

const parts = [
    { text: "[ ", color: "var(--color-ghost)" },
    { text: "Developer's", color: "var(--color-gold)" },
    { text: " ", color: "transparent" },
    { text: "Life", color: "var(--color-ivory)" },
    { text: " ", color: "transparent" },
    { text: "Cycle", color: "var(--color-blue)" },
    { text: " ]", color: "var(--color-ghost)" }
];

function typeSlogan() {
    const isMobile = window.innerWidth < 768;
    const delay = isMobile ? LOGO_DELAY_MOBILE : LOGO_DELAY_DESKTOP;
    const charSpeed = isMobile ? CHAR_SPEED_MOBILE : CHAR_SPEED_DESKTOP;

    setTimeout(() => {
        // Fade out static logo
        logoElement.style.opacity = '0';
        logoElement.style.transition = 'opacity 500ms ease';

        // Start typing after fade
        setTimeout(() => startTyping(), 500);
    }, delay);
}

function startTyping() {
    let partIndex = 0;
    let charIndex = 0;

    function typeNextPart() {
        if (partIndex >= parts.length) return;

        const part = parts[partIndex];
        const span = document.createElement('span');
        span.style.color = part.color;

        function typeNextChar() {
            if (charIndex < part.text.length) {
                span.textContent += part.text[charIndex];
                charIndex++;
                setTimeout(typeNextChar, charSpeed);
            } else {
                logoElement.appendChild(span);
                charIndex = 0;
                partIndex++;
                typeNextPart();
            }
        }

        typeNextChar();
    }

    typeNextPart();
}

```

<!-- DJANGO: Move delay/speed to Django settings (LOGO_ANIMATION_DELAY, LOGO_ANIMATION_SPEED) -->
<!-- DJANGO: Extract slogan text to i18n system (gettext for backend, JSON for frontend JS) -->
<!-- TODO: Consider CSS animations instead of JS for better performance -->

##

## Session Storage (Animation Playback Control)

```javascript
const SESSION_KEY = 'codex_intro_shown';

// Check on page load
if (sessionStorage.getItem(SESSION_KEY)) {
    // Skip animation on page reload within same session
    skipAnimation = true;
} else {
    // First visit in session - show animation
    sessionStorage.setItem(SESSION_KEY, 'true');
    skipAnimation = false;
}

// On page load
if (!skipAnimation) {
    typeSlogan();
}

```

**Behavior:**



- User loads page ‚Üí Animation plays ‚Üí `sessionStorage` set



- User reloads page (Ctrl+R) ‚Üí Animation skipped



- User closes tab and opens new tab ‚Üí Animation plays again (new session)



- User navigates to another page ‚Üí Animation skipped (same session)

<!-- DJANGO: Replace sessionStorage with Django sessions (user.profile.intro_shown) -->
<!-- DJANGO: Track at database level for persistent "don't show intro again" across sessions -->

##

## Mobile Burger Menu

```javascript
// i18n: menu_toggle

const burgerButton = document.querySelector('.nav-burger');
const navMenu = document.querySelector('.header-nav');

burgerButton.addEventListener('click', () => {
    toggleMainMenu();
});

function toggleMainMenu() {
    navMenu.classList.toggle('active');
    burgerButton.classList.toggle('active');
}

// Close menu when clicking nav link
document.querySelectorAll('.nav-link').forEach(link => {
    link.addEventListener('click', () => {
        navMenu.classList.remove('active');
        burgerButton.classList.remove('active');
    });
});

```

**Visibility:**



- Desktop (768px+): Always visible



- Mobile (< 768px): Hidden by default, toggle with burger button

<!-- DJANGO: Menu items could come from Django menu system -->
<!-- TODO: Add close button or click-outside behavior to close menu -->

##

## Global Event Listeners

```javascript
document.addEventListener('DOMContentLoaded', () => {
    // 1. Initialize logo animation
    if (!sessionStorage.getItem(SESSION_KEY)) {
        typeSlogan();
    }

    // 2. Initialize mobile menu
    setupBurgerMenu();

    // 3. Initialize other modules (slides, tabs, etc.)
    // ...
});

// Handle window resize for responsive adjustments
window.addEventListener('resize', () => {
    // Adjust layout if crossing mobile breakpoint
    const isMobile = window.innerWidth < 768;
    // ...
});

```

##

## i18n Integration

All user-visible text is marked for translation:

```javascript
// Logo slogan parts
// i18n: slogan_developers  ‚Üí "Developer's"
// i18n: slogan_life        ‚Üí "Life"
// i18n: slogan_cycle       ‚Üí "Cycle"

// Navigation
// i18n: nav_home
// i18n: nav_portfolio
// i18n: nav_experience
// i18n: nav_contact

// Menu
// i18n: menu_toggle

```

**Future Migration:**



- Extract to `static/i18n/en.json`, `ru.json`, `de.json`



- Use helper: `function t(key) { return translations[key] || key; }`



- Initialize from Django context: `const CURRENT_LANG = "{{ LANGUAGE_CODE }}";`

<!-- DJANGO: All text should use gettext_lazy() in Python, i18n keys in templates/JS -->

##

## Performance Notes

<!-- TODO: Consider debouncing resize events for better performance -->
<!-- TODO: Move animation to CSS keyframes if possible -->
<!-- TODO: Test on low-end devices (animation smoothness) -->
<!-- DJANGO: Preload fonts to avoid FOIT (Flash of Invisible Text) -->

